import _typeof from"@babel/runtime/helpers/typeof";import _defineProperty from"@babel/runtime/helpers/defineProperty";import _slicedToArray from"@babel/runtime/helpers/slicedToArray";import{useState,useEffect}from"react";function ownKeys(t,e){var r,o=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,r)),o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function useDebounceLib(){var e=useState(!1),e=_slicedToArray(e,2),t=e[0],o=e[1],e=useState(!0),e=_slicedToArray(e,2),r=e[0],n=e[1],e=useState({m:null}),e=_slicedToArray(e,2),u=e[0],c=e[1],e=useState(1e3),e=_slicedToArray(e,2),i=e[0],s=e[1];return useEffect(function(){r||t||setTimeout(function(){o(!0)},i)},[r]),useEffect(function(){t&&(o(!1),null!=u)&&u.m&&"undefined"!==_typeof(null==u?void 0:u.m)&&"function"===_typeof(null==u?void 0:u.m)&&null!=u&&u.m()},[t,u,null==u?void 0:u.m]),{useDebounce:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e3,r=(o(!1),n(!0),c(function(e){return _objectSpread(_objectSpread({},e),{},{m:t})}),s(e),window.setTimeout(function(){for(var e=r;0<=e;e--)window.clearInterval(e)},0));window.setTimeout(function(){n(!1)},e)}}}var usD=useDebounceLib.useDebounce,useDebounce={Debounce:usD};export{useDebounce as default};
